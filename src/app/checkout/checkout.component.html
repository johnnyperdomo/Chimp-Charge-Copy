<!-- FUTURE-UPDATE: add terms of service, 'by clicking this you agree to have read our tos' -->
<!-- TODO: maybe add manual change detection -->

<div class="main-content">
  <div class="container-fluid">
    <div class="row justify-content-center">
      <div class="col-12 col-sm-10 col-md-8 col-lg-6 col-xl-5 my-6">
        <div class="card">
          <div class="card-header">
            <div class="card-header-title">
              <h2 class="card-header-title">
                {{ businessName }}
              </h2>
            </div>
          </div>

          <div class="card-body">
            <!-- Header -->
            <div class="col-auto">
              <h4 class="card-title first-letter-capitalize">
                {{ linkName }}
              </h4>
              <p class="card-subtitle text-muted my-3 first-letter-capitalize">
                {{ linkDescription }}
              </p>
              <h4 class="payment-link-details card-text mb-4 capitalize">
                {{ paymentLinkDetails }}
              </h4>

              <hr />

              <form #checkoutForm="ngForm" (ngSubmit)="onSubmit(checkoutForm)">
                <!-- Card Details -->

                <div class="form-group">
                  <h3 class="card-title my-3">Credit or debit card</h3>
                  <input
                    type="text"
                    id="cardname"
                    class="form-control"
                    placeholder="Cardholder's Name"
                    ngModel
                    name="cardname"
                    required
                    #cardname="ngModel"
                  />
                </div>

                <div class="form-group">
                  <div class="form-control">
                    <div #cardElement>
                      <!-- A Stripe Element will be inserted here. -->
                    </div>
                  </div>

                  <span class="help-block-invalid" *ngIf="cardErrors != null">
                    {{ cardErrors }}
                  </span>
                </div>

                <!-- Customer Details -->
                <div class="form-group">
                  <h3 class="card-title my-3">Customer Details</h3>
                  <input
                    type="text"
                    id="name"
                    class="form-control"
                    placeholder="Your Name"
                    ngModel
                    name="name"
                    required
                    #name="ngModel"
                  />
                </div>

                <div class="form-group">
                  <input
                    type="email"
                    id="email"
                    class="form-control"
                    placeholder="Your Email for receipt"
                    ngModel
                    name="email"
                    required
                    email
                    #email="ngModel"
                  />
                  <span
                    class="help-block-invalid"
                    *ngIf="!email.valid && email.touched"
                  >
                    Please enter a valid email.</span
                  >
                </div>

                <!-- FUTURE-UPDATE: add link to tos -->
                <!-- <div class="form-check mb-3">
                  <input
                    class="form-check-input"
                    type="checkbox"
                    id="tos"
                    ngModel
                    name="tos"
                    #tos="ngModel"
                    required
                  />
                  <label class="form-check-label" for="defaultCheck1">
                    I accept the 'Terms of Service'
                  </label>
                </div> -->

                <!-- Submit -->
                <button
                  class="btn btn-lg btn-block btn-primary mb-3 capitalize"
                  type="submit"
                  [disabled]="!checkoutForm.valid"
                >
                  {{ checkoutBtnText }}
                </button>
              </form>
            </div>
          </div>
        </div>

        <div class="row justify-content-center">
          <span class="fe fe-lock text-muted"></span>
          <span class="small text-muted">
            Secured by <a href="http://www.chimpcharge.com">Chimp Charge</a>
          </span>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- TODO: add 'secured by chimpcharge'  -->
